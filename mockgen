#!/usr/bin/env bash

USER="`whoami`"
HOME="`eval echo \"~$USER\"`"

MOCKS=(
    "$HOME/go/src/github.com/labstack/echo/context.go|echo_mocks/context.go"
    "$HOME/go/src/github.com/liuggio/events/events.go|events_mocks/events.go"
    "$HOME/go/src/github.com/aws/aws-sdk-go/service/s3/s3manager/s3manageriface/interface.go|aws_mocks/s3manager.go"
    "$HOME/go/src/github.com/aws/aws-sdk-go/service/s3/s3iface/interface.go|aws_mocks/s3.go"
    "common/subject.go|mocks/subject.go"
    "contracts/db_paginator.go|mocks/db_paginator.go"
    "contracts/hasher.go|mocks/hasher.go"
    "contracts/router.go|mocks/router.go"
    "contracts/event_dispatcher.go|mocks/event_dispatcher.go"
    "contracts/content_type_validator.go|mocks/content_type_validator.go"
    "contracts/model_validator.go|mocks/model_validator.go"
    "contracts/pagination_model_factory.go|mocks/pagination_model_factory.go"
    "contracts/http_context.go|mocks/http_context.go"
    "contracts/aws_s3_parameters.go|mocks/aws_s3_parameters.go"
    "contracts/aws_s3_writer_proxy.go|mocks/aws_s3_writer_proxy.go"
    "contracts/aws_s3_writer_proxy_factory.go|mocks/aws_s3_writer_proxy_factory.go"
    "contracts/aws_s3_factory.go|mocks/aws_s3_factory.go"
    "contracts/aws_s3_uploader_factory.go|mocks/aws_s3_uploader_factory.go"
    "contracts/aws_s3_downloader_factory.go|mocks/aws_s3_downloader_factory.go"
    "contracts/aws_s3_writer_proxy_factory.go|mocks/aws_s3_writer_proxy_factory.go"
    "contracts/subject_resolver.go|mocks/subject_resolver.go"
    "contracts/user_entity_factory.go|mocks/user_entity_factory.go"
    "contracts/user_event_factory.go|mocks/user_event_factory.go"
    "contracts/user_picture_event_factory.go|mocks/user_picture_event_factory.go"
    "contracts/user_model_factory.go|mocks/user_model_factory.go"
    "contracts/user_repository.go|mocks/user_repository.go"
    "contracts/user_service.go|mocks/user_service.go"
    "contracts/user_picture_service.go|mocks/user_picture_service.go"
    "contracts/user_aggregator.go|mocks/user_aggregator.go"
    "contracts/user_api.go|mocks/user_api.go"
    "contracts/user_picture_api.go|mocks/user_picture_api.go"
    "contracts/user_http_helper.go|mocks/user_http_helper.go"
    "contracts/user_controller.go|mocks/user_controller.go"
    "contracts/user_picture_controller.go|mocks/user_picture_controller.go"
    "contracts/post_publisher_job.go|mocks/post_publisher_job.go"
    "contracts/post_publisher_worker.go|mocks/post_publisher_worker.go"
    "contracts/post_entity_factory.go|mocks/post_entity_factory.go"
    "contracts/post_event_factory.go|mocks/post_event_factory.go"
    "contracts/post_author_event_factory.go|mocks/post_author_event_factory.go"
    "contracts/post_picture_event_factory.go|mocks/post_picture_event_factory.go"
    "contracts/post_video_event_factory.go|mocks/post_video_event_factory.go"
    "contracts/post_model_factory.go|mocks/post_model_factory.go"
    "contracts/post_status_validator.go|mocks/post_status_validator.go"
    "contracts/post_normalizer.go|mocks/post_normalizer.go"
    "contracts/post_repository.go|mocks/post_repository.go"
    "contracts/post_service.go|mocks/post_service.go"
    "contracts/post_picture_service.go|mocks/post_picture_service.go"
    "contracts/post_video_service.go|mocks/post_video_service.go"
    "contracts/post_author_service.go|mocks/post_author_service.go"
    "contracts/post_aggregator.go|mocks/post_aggregator.go"
    "contracts/post_api.go|mocks/post_api.go"
    "contracts/post_picture_api.go|mocks/post_picture_api.go"
    "contracts/post_video_api.go|mocks/post_video_api.go"
    "contracts/post_author_api.go|mocks/post_author_api.go"
    "contracts/post_http_helper.go|mocks/post_http_helper.go"
    "contracts/post_controller.go|mocks/post_controller.go"
    "contracts/post_author_controller.go|mocks/post_author_controller.go"
    "contracts/post_picture_controller.go|mocks/post_picture_controller.go"
    "contracts/post_video_controller.go|mocks/post_video_controller.go"
    "contracts/storage_provider.go|mocks/storage_provider.go"
    "contracts/file_path_strategy.go|mocks/file_path_strategy.go"
    "contracts/file_entity_factory.go|mocks/file_entity_factory.go"
    "contracts/file_event_factory.go|mocks/file_event_factory.go"
    "contracts/file_model_factory.go|mocks/file_model_factory.go"
    "contracts/file_repository.go|mocks/file_repository.go"
    "contracts/file_service.go|mocks/file_service.go"
    "contracts/file_aggregator.go|mocks/file_aggregator.go"
    "contracts/file_api.go|mocks/file_api.go"
    "contracts/file_http_helper.go|mocks/file_http_helper.go"
    "contracts/file_controller.go|mocks/file_controller.go"
    "contracts/comment_repository.go|mocks/comment_repository.go"
    "contracts/comment_entity_factory.go|mocks/comment_entity_factory.go"
    "contracts/comment_model_factory.go|mocks/comment_model_factory.go"
    "contracts/comment_event_factory.go|mocks/comment_event_factory.go"
    "contracts/comment_service.go|mocks/comment_service.go"
    "contracts/comment_aggregator.go|mocks/comment_aggregator.go"
    "contracts/comment_api.go|mocks/comment_api.go"
    "contracts/comment_http_helper.go|mocks/comment_http_helper.go"
    "contracts/comment_controller.go|mocks/comment_controller.go"
    "contracts/category_tree_builder.go|mocks/category_tree_builder.go"
    "contracts/category_nested_set_builder.go|mocks/category_nested_set_builder.go"
    "contracts/category_repository.go|mocks/category_repository.go"
    "contracts/category_entity_factory.go|mocks/category_entity_factory.go"
    "contracts/category_model_factory.go|mocks/category_model_factory.go"
    "contracts/category_event_factory.go|mocks/category_event_factory.go"
    "contracts/category_service.go|mocks/category_service.go"
    "contracts/category_aggregator.go|mocks/category_aggregator.go"
    "contracts/category_api.go|mocks/category_api.go"
    "contracts/category_http_helper.go|mocks/category_http_helper.go"
    "contracts/category_controller.go|mocks/category_controller.go"
    "contracts/tag_repository.go|mocks/tag_repository.go"
    "contracts/tag_entity_factory.go|mocks/tag_entity_factory.go"
    "contracts/tag_model_factory.go|mocks/tag_model_factory.go"
    "contracts/tag_event_factory.go|mocks/tag_event_factory.go"
    "contracts/tag_service.go|mocks/tag_service.go"
    "contracts/tag_aggregator.go|mocks/tag_aggregator.go"
    "contracts/tag_api.go|mocks/tag_api.go"
    "contracts/tag_http_helper.go|mocks/tag_http_helper.go"
    "contracts/tag_controller.go|mocks/tag_controller.go"
    "contracts/banner_repository.go|mocks/banner_repository.go"
    "contracts/banner_entity_factory.go|mocks/banner_entity_factory.go"
    "contracts/banner_model_factory.go|mocks/banner_model_factory.go"
    "contracts/banner_event_factory.go|mocks/banner_event_factory.go"
    "contracts/banner_service.go|mocks/banner_service.go"
    "contracts/banner_aggregator.go|mocks/banner_aggregator.go"
    "contracts/banner_api.go|mocks/banner_api.go"
    "contracts/banner_http_helper.go|mocks/banner_http_helper.go"
    "contracts/banner_controller.go|mocks/banner_controller.go"
    "contracts/poll_repository.go|mocks/poll_repository.go"
    "contracts/poll_entity_factory.go|mocks/poll_entity_factory.go"
    "contracts/poll_model_factory.go|mocks/poll_model_factory.go"
    "contracts/poll_event_factory.go|mocks/poll_event_factory.go"
    "contracts/poll_service.go|mocks/poll_service.go"
    "contracts/poll_aggregator.go|mocks/poll_aggregator.go"
    "contracts/poll_api.go|mocks/poll_api.go"
    "contracts/poll_http_helper.go|mocks/poll_http_helper.go"
    "contracts/poll_controller.go|mocks/poll_controller.go"
    "contracts/channel_repository.go|mocks/channel_repository.go"
    "contracts/channel_entity_factory.go|mocks/channel_entity_factory.go"
    "contracts/channel_model_factory.go|mocks/channel_model_factory.go"
    "contracts/channel_event_factory.go|mocks/channel_event_factory.go"
    "contracts/channel_service.go|mocks/channel_service.go"
    "contracts/channel_aggregator.go|mocks/channel_aggregator.go"
    "contracts/channel_api.go|mocks/channel_api.go"
    "contracts/channel_http_helper.go|mocks/channel_http_helper.go"
    "contracts/channel_controller.go|mocks/channel_controller.go"
)

for params in ${MOCKS[*]}
do
    IFS=$'|' read -r source destination <<< "$params"
    IFS=$'/' read -r package _ <<< "$destination"
    ~/go/bin/mockgen -source=${source} -destination=${destination} -package=${package}
done
